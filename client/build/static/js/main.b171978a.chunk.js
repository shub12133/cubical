(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,a){e.exports=a(81)},52:function(e,t,a){},53:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);a(47);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),l=(a(52),a(53),a(2)),o=a(4),u=a(18),i=a(12),m=a(39),d=a(40),p=a(3),f={REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAIL:"REGISTER_FAIL",USER_LOADED:"USER_LOADED",AUTH_ERROR:"AUTH_ERROR",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAIL:"LOGIN_FAIL",LOGOUT:"LOGOUT",USER_ERROR:"USER_ERROR"},E={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case f.USER_LOADED:return Object(p.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case f.REGISTER_SUCCESS:case f.LOGIN_SUCCESS:return localStorage.setItem("token",n.token),Object(p.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case f.REGISTER_FAIL:case f.AUTH_ERROR:case f.LOGIN_FAIL:case f.LOGOUT:case f.ACCOUNT_DELETED:case f.USER_ERROR:return localStorage.removeItem("token"),Object(p.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},b=a(17),v="SET_ALERT",h="REMOVE_ALERT",N=[],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return[].concat(Object(b.a)(e),[n]);case h:return e.filter((function(e){return e.id!==n}));default:return e}},x="ADD_PRODUCT",O="PRODUCT_ERROR",w="GET_PRODUCTS",j="DELETE_PRODUCT",S="UPDATE_PRODUCT",P="GET_PRODUCT",T={products:[],totalProducts:null,product:null,loading:!0,error:{}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case w:return Object(p.a)({},e,{products:a.products,totalProducts:a.totalItems,loading:!1});case P:return Object(p.a)({},e,{product:a,loading:!1});case x:return Object(p.a)({},e,{products:[a].concat(Object(b.a)(e.products)),loading:!1});case S:return Object(p.a)({},e,{products:e.products.map((function(e){return e._id===a.id?{product:a.product}:e})),loading:!1});case j:return Object(p.a)({},e,{products:e.products.filter((function(e){return e._id!==a})),loading:!1});case O:return Object(p.a)({},e,{error:a,loading:!1});default:return e}},_="GET_QUESTIONS",R="ASK_QUESTION",k="QUESTION_ERROR",A="DELETE_QUESTION",I="UPDATE_QUESTION",U={questions:[],loading:!0,error:{}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case _:return Object(p.a)({},e,{questions:a,loading:!1});case R:return Object(p.a)({},e,{questions:[a].concat(Object(b.a)(e.questions)),loading:!1});case A:return Object(p.a)({},e,{questions:e.questions.filter((function(e){return e._id!==a})),loading:!1});case I:return Object(p.a)({},e,{questions:e.questions.map((function(e){return e._id===a.id?Object(p.a)({},e,{text:a.text}):e})),loading:!1});case k:return Object(p.a)({},e,{error:a,loading:!1});default:return e}},F="ADD_PRODUCT_TO_CART",q="GET_CART_PRODUCTS",L="CART_ERROR",Q="DELETE_CART_PRODUCT",G="CART_CHECKOUT",Y={cartItems:null,totalPrice:null,totalQuantity:null,loading:!0,error:{}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.payload,n=t.type;switch(n){case q:return Object(p.a)({},e,{cartItems:a.products,totalPrice:a.totalPrice,totalQuantity:a.totalQuantity,loading:!1});case Q:return Object(p.a)({},e,{cartItems:e.cartItems.filter((function(e){return e._id!==a})),loading:!1});case F:return Object(p.a)({},e,{cartItems:[a].concat(Object(b.a)(e.cartItems)),loading:!1});case G:return Object(p.a)({},e,{cartItems:null,totalPrice:null,totalQuantity:null,loading:!1});case L:return Object(p.a)({},e,{error:a,loading:!1});default:return e}},M=Object(i.combineReducers)({auth:g,alert:y,product:C,question:D,cart:H}),V=[d.a],J=Object(i.createStore)(M,Object(m.composeWithDevTools)(i.applyMiddleware.apply(void 0,V))),K=a(7),$=a.n(K),B=function(e){e?$.a.defaults.headers.common["x-auth-token"]=e:delete $.a.defaults.headers.common["x-auth-token"]},z=a(1),W=a.n(z),X=a(41),Z=a.n(X),ee=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=Z.a.v4();n({type:v,payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:h,payload:r})}),a)}},te=function(){return function(e){var t;return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.a.awrap($.a.get("/cart"));case 3:t=a.sent,e({type:q,payload:{products:t.data.products,totalPrice:t.data.totalPrice,totalQuantity:t.data.totalQuantity}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e({type:L,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},ae=function(){return function(e){var t;return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.token&&B(localStorage.token),a.prev=1,a.next=4,W.a.awrap($.a.get("/auth"));case 4:t=a.sent,e({type:f.USER_LOADED,payload:t.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:f.AUTH_ERROR});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}},ne=Object(l.b)((function(e){return{auth:e.auth,cart:e.cart}}),{logout:function(){return function(e){e({type:f.LOGOUT})}},getCartProducts:te})((function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,s=e.cart,l=s.totalQuantity,u=s.cartItems,i=e.getCartProducts,m=e.logout;Object(n.useEffect)((function(){i()}),[u]);var d=r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/cart"}," ",l," ",r.a.createElement("i",{className:"fas fa-shopping-cart"})," "," ",r.a.createElement("span",{className:"hide-sm text-info font-weight-bold text-monospace"},"Cart"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link text-info font-weight-bold text-monospace",to:"/products"},"Products")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link",to:"/dashboard"},r.a.createElement("i",{className:"fas fa-user"})," "," ",r.a.createElement("span",{className:"hide-sm text-info font-weight-bold text-monospace"},"Dashboard"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{onClick:m,className:"nav-link",href:"#!"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," "," ",r.a.createElement("span",{className:"hide-sm text-info font-weight-bold text-monospace"},"Logout")))),p=r.a.createElement("ul",{className:"navbar-nav ml-auto text-info"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link text-info font-weight-bold text-monospace",to:"/register"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{className:"nav-link text-info font-weight-bold text-monospace",to:"/login"},"Login")));return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-dark mb-3"},r.a.createElement("div",{className:"container"},r.a.createElement(o.b,{className:"navbar-brand text-primary text-monospace font-italic",to:a?"/dashboard":"/"}," ",r.a.createElement("i",{className:"fas fa-business-time"})," "," "," Cubical"),r.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarNav"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},!c&&r.a.createElement(n.Fragment,null," ",a?d:p))))})),re=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){return e.isAuthenticated?r.a.createElement(u.a,{to:"/dashboard"}):r.a.createElement("section",{id:"showcase"},r.a.createElement("div",{className:"overlay text-danger"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("h1",{className:"display-2 mt-5 pt-5"},"Start To Make Money Today!"),r.a.createElement("p",{className:"lead"},"Buy, Sell & Profit ",r.a.createElement("i",{className:"fas fa-search-dollar"})," "),r.a.createElement(o.b,{to:"/register",className:"btn mr-3 btn-outline-info btn-md text-white"},"Sign Up"),r.a.createElement(o.b,{to:"/login",className:"btn btn-outline-primary btn-md text-white"},"Sign In"))))))})),ce=Object(l.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType),role:"alert"},e.msg)}))})),se=a(14),le=a(5),oe=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:ee,register:function(e){var t=e.name,a=e.email,n=e.password;return function(e){var r,c,s,l;return W.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({name:t,email:a,password:n}),o.prev=2,o.next=5,W.a.awrap($.a.post("/auth/signup",c,r));case 5:s=o.sent,e({type:f.REGISTER_SUCCESS,payload:s.data}),e(ae()),e(te()),o.next=16;break;case 11:o.prev=11,o.t0=o.catch(2),(l=o.t0.response.data.errors)&&l.forEach((function(t){return e(ee(t.msg,"danger"))})),e({type:f.REGISTER_FAIL});case 16:case"end":return o.stop()}}),null,null,[[2,11]])}}})((function(e){var t=e.setAlert,a=e.register,c=e.isAuthenticated,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),l=Object(le.a)(s,2),i=l[0],m=l[1],d=i.name,f=i.email,E=i.password,g=i.password2,b=function(e){return m(Object(p.a)({},i,Object(se.a)({},e.target.name,e.target.value)))};return c?r.a.createElement(u.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{class:"col-lg-12 text-center"},r.a.createElement("div",{class:"card bg-danger text-center card-form"},r.a.createElement("div",{class:"card-body"},r.a.createElement("h3",{className:"text-primary text-monospace"},"Sign Up Today"),r.a.createElement("p",{className:"text-success font-weight-bold"},"Please fill out this form to register"),r.a.createElement("form",{onSubmit:function(e){return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),E!==g?t("Passwords do not match","danger"):a({name:d,email:f,password:E});case 2:case"end":return n.stop()}}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:function(e){return b(e)},type:"text",value:d,name:"name",className:"form-control form-control-lg",placeholder:"Name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:function(e){return b(e)},type:"email",name:"email",value:f,className:"form-control form-control-lg",placeholder:"Email",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:function(e){return b(e)},type:"password",name:"password",value:E,className:"form-control form-control-lg",placeholder:"Password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{value:g,onChange:function(e){return b(e)},type:"password",name:"password2",className:"form-control form-control-lg",placeholder:"Confirm Password",required:!0})),r.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-outline-warning btn-block"}),r.a.createElement(o.b,{to:"/login"},r.a.createElement("p",{className:"text-info"},"Already have an account ?")))))))))})),ue=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(a){var n,r,c,s;return W.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),l.prev=2,l.next=5,W.a.awrap($.a.post("/auth/signin",r,n));case 5:c=l.sent,a({type:f.LOGIN_SUCCESS,payload:c.data}),a(ae()),a(te()),l.next=16;break;case 11:l.prev=11,l.t0=l.catch(2),(s=l.t0.response.data.errors)&&s.forEach((function(e){return a(ee(e.msg,"danger"))})),a({type:f.LOGIN_FAIL});case 16:case"end":return l.stop()}}),null,null,[[2,11]])}}})((function(e){var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),s=Object(le.a)(c,2),l=s[0],i=s[1],m=l.email,d=l.password,f=function(e){return i(Object(p.a)({},l,Object(se.a)({},e.target.name,e.target.value)))};return a?r.a.createElement(u.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("div",{className:"card bg-warning text-center card-form"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"text-danger font-weight-bold"},"Sign Into Your Account"),r.a.createElement("form",{onSubmit:function(e){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),t(m,d);case 2:case"end":return a.stop()}}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:function(e){return f(e)},type:"email",name:"email",value:m,className:"form-control form-control-lg",placeholder:"Email",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{onChange:function(e){return f(e)},type:"password",name:"password",value:d,minLength:"6",className:"form-control form-control-lg",placeholder:"Password",required:!0})),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary btn-block"}),r.a.createElement(o.b,{to:"/register"},r.a.createElement("p",{className:"text-dark"},"Don't Have an account? ")))))))))})),ie=a(43),me=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,s=Object(ie.a)(e,["component","auth"]);return r.a.createElement(u.b,Object.assign({},s,{render:function(e){return n||c?r.a.createElement(t,e):r.a.createElement(u.a,{to:"/login"})}}))})),de=function(e){for(var t=e.productsPerPage,a=e.totalProducts,n=e.paginate,c=[],s=1;s<=Math.ceil(a/t);s++)c.push(s);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},c.map((function(e){return r.a.createElement("li",{key:e,className:"page-item"},r.a.createElement("button",{onClick:function(){return n(e)},className:"btn btn-dark m-5"},e))}))))},pe=function(e,t){return function(a){return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.awrap($.a.delete("/products/".concat(e)));case 3:if(a({type:j,payload:e}),a(ee("Product deleted successfully","success")),!t){n.next=7;break}return n.abrupt("return",t.push("/dashboard"));case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:O,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 12:case"end":return n.stop()}}),null,null,[[0,9]])}},fe=function(e,t){return function(a){var n;return W.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,W.a.awrap($.a.get("/products/".concat(e,"?page=").concat(t)));case 3:n=r.sent,a({type:w,payload:n.data}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),a({type:O,payload:{msg:r.t0.response.statusText,status:r.t0.response.status}});case 10:case"end":return r.stop()}}),null,null,[[0,7]])}},Ee=function(e){return function(t){var a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.awrap($.a.get("/products/product/".concat(e)));case 3:a=n.sent,t({type:P,payload:a.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t({type:O,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},ge=Object(l.b)((function(e){return{auth:e.auth}}),{deleteSingleProduct:pe,addProductToCart:function(e){return function(t){var a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.awrap($.a.post("/cart/".concat(e)));case 3:a=n.sent,t({type:F,payload:a.data}),t(ee("Successfully added product to cart","success")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),t({type:L,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),null,null,[[0,8]])}}})((function(e){var t=e.deleteSingleProduct,a=e.auth,c=e.addProductToCart,s=e.product,l=s._id,u=s.name,i=s.price,m=s.image,d=s.user;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card bg-success rounded-lg"},r.a.createElement("img",{src:m,className:"card-img-top",alt:"product"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title text-center text-danger bg-warning"},u),r.a.createElement("p",{className:"card-text font-weight-bold text-center"},"Price: ",i," ",r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement(o.b,{className:"btn btn-outline-warning mx-1",to:"/products/".concat(l)},"View"),d._id===a.user._id?r.a.createElement(n.Fragment,null,r.a.createElement(o.b,{className:"text-center btn btn-outline-danger mx-1",to:"/products/edit/".concat(l)},r.a.createElement("i",{className:"fas fa-edit"})," "),r.a.createElement("button",{className:"btn btn-outline-dark",onClick:function(){return t(l,null)}}," ",r.a.createElement("i",{className:"fas fa-trash-alt"})," ")):r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return c(l)},className:"btn btn-outline-danger"}," ",r.a.createElement("i",{className:"fas fa-cart-plus"}))))))})),be=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))))},ve=Object(l.b)((function(e){return{product:e.product,auth:e.auth}}),{getUserProducts:fe,loadUser:ae})((function(e){var t=e.product,a=t.products,c=t.loading,s=t.totalProducts,l=e.loadUser,u=e.getUserProducts,i=e.auth.user,m=Object(n.useState)(1),d=Object(le.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(6),g=Object(le.a)(E,1)[0];Object(n.useEffect)((function(){l(),i&&u(i._id,p)}),[p,i]);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h1",{className:"text-monospace text-info display-2"},"Dashboard"),r.a.createElement(o.b,{to:"/add-product",className:"btn btn-block btn-warning"},"Add Product ",r.a.createElement("i",{className:"far fa-money-bill-alt"})," ")))),r.a.createElement("br",null),c&&r.a.createElement(be,null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},a.map((function(e){return r.a.createElement("div",{className:"col-md-4 col-6"},r.a.createElement(ge,{key:e._id,product:e}))})),";",r.a.createElement("div",{className:"col-12"},a&&r.a.createElement(de,{productsPerPage:g,totalProducts:s,paginate:function(e){return f(e)}})))))})),he=Object(l.b)(null,{addProduct:function(e,t){return function(a){var n,r,c;return W.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(n=new FormData).append("name",e.name),n.append("description",e.description),n.append("price",e.price),n.append("image",e.image),s.prev=5,s.next=8,W.a.awrap($.a.post("/products",n));case 8:r=s.sent,a({type:x,payload:r.data}),t.push("/dashboard"),a(ee("Product created successfully","success")),s.next=19;break;case 14:s.prev=14,s.t0=s.catch(5),(c=s.t0.response.data.errors)&&c.forEach((function(e){return a(ee(e.msg,"danger"))})),a({type:O,payload:{msg:s.t0.response.statusText,status:s.t0.response.status}});case 19:case"end":return s.stop()}}),null,null,[[5,14]])}}})(Object(u.g)((function(e){var t=e.history,a=e.addProduct,c=Object(n.useState)({name:"",description:"",price:10,image:""}),s=Object(le.a)(c,2),l=s[0],o=s[1],u=Object(n.useState)(!1),i=Object(le.a)(u,2),m=i[0],d=i[1],f=Object(n.useState)(""),E=Object(le.a)(f,2),g=E[0],b=E[1],v=function(e){return o(Object(p.a)({},l,Object(se.a)({},e.target.name,e.target.value)))},h=l.name,N=l.description,y=l.price;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-info font-weight-bold m-2"},"*- All Fields Requried",r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(l,t)}(e)}},r.a.createElement("div",{className:"form-group m-2"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",placeholder:"Enter Products Name",name:"name",value:h,onChange:function(e){return v(e)},className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group m-2"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{type:"number",name:"price",placeholder:"Enter Products Price",value:y,onChange:function(e){return v(e)},className:"form-control",required:!0})),r.a.createElement("div",{className:"custom-file m-2"},r.a.createElement("input",{type:"file",onChange:function(e){return function(e){o(Object(p.a)({},l,{image:e.target.files[0]})),d(!0),b(e.target.files[0].name)}(e)},className:"custom-file-input bg-info",required:!0}),r.a.createElement("label",{className:"custom-file-label"},m?g:"Upload Image")),r.a.createElement("div",{className:"form-group m-2"},r.a.createElement("label",{htmlFor:"title"},"Description"),r.a.createElement("textarea",{name:"description",onChange:function(e){return v(e)},placeholder:"Enter Products description",value:N,className:"form-control",required:!0})),r.a.createElement("input",{type:"submit",value:"Add Product",className:"btn btn-block btn-info"}))))))}))),Ne=Object(l.b)((function(e){return{product:e.product}}),{getAllProducts:function(e){return function(t){var a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.awrap($.a.get("/products?page=".concat(e)));case 3:a=n.sent,t({type:w,payload:{products:a.data.products,totalItems:a.data.totalItems}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t({type:O,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}})((function(e){var t=e.getAllProducts,a=e.product,c=a.products,s=a.totalProducts,l=a.loading,o=Object(n.useState)(1),u=Object(le.a)(o,2),i=u[0],m=u[1],d=Object(n.useState)(6),p=Object(le.a)(d,1)[0];return Object(n.useEffect)((function(){t(i)}),[i,t]),l?r.a.createElement(be,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h1",{className:"text-warning text-monospace"},"Products"),r.a.createElement("p",{className:"lead text-success font-weight-bold"},"Find Your Item Today")))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},c.map((function(e){return r.a.createElement("div",{className:"col-md-4 col-6"},r.a.createElement(ge,{key:e._id,product:e}))})),";",r.a.createElement("div",{className:"col-12"},c&&r.a.createElement(de,{productsPerPage:p,totalProducts:s,paginate:function(e){return m(e)}})))))})),ye=Object(i.compose)(u.g,Object(l.b)((function(e){return{product:e.product,auth:e.auth}}),{editProduct:function(e,t,a){return function(n){var r,c;return W.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(r=new FormData).append("name",e.name),r.append("description",e.description),r.append("price",e.price),r.append("image",e.image),s.prev=5,s.next=8,W.a.awrap($.a.put("/products/edit/".concat(a),r));case 8:c=s.sent,n({type:S,payload:c.data}),n(ee("Product updated successfully","success")),t.push("/dashboard"),s.next=17;break;case 14:s.prev=14,s.t0=s.catch(5),n({type:O,payload:{msg:s.t0.response.statusText,status:s.t0.response.status}});case 17:case"end":return s.stop()}}),null,null,[[5,14]])}},getProduct:Ee}))((function(e){var t=e.history,a=e.editProduct,c=e.getProduct,s=e.match,l=e.product,o=l.loading,u=l.product,i=Object(n.useState)({name:"",description:"",price:null,image:""}),m=Object(le.a)(i,2),d=m[0],f=m[1],E=Object(n.useState)(!1),g=Object(le.a)(E,2),b=g[0],v=g[1],h=Object(n.useState)(""),N=Object(le.a)(h,2),y=N[0],x=N[1];Object(n.useEffect)((function(){c(s.params.id),f({name:o||!u.name?"":u.name,description:o||!u.description?"":u.description,price:o||!u.price?"":u.price,image:""})}),[c,o]);var O=d.name,w=d.description,j=d.price,S=function(e){return f(Object(p.a)({},d,Object(se.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},o&&r.a.createElement(be,null),r.a.createElement("div",{className:"col text-info font-weight-bold m-2"},"*- All Fields Requried!",r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(d,t,s.params.id)}(e)}},r.a.createElement("div",{className:"form-group m-2"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",placeholder:"Enter Products Name",name:"name",value:O,onChange:function(e){return S(e)},className:"form-control",required:!0})),r.a.createElement("div",{className:"form-group m-2"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{type:"number",name:"price",placeholder:"Enter Products Price",value:j,onChange:function(e){return S(e)},className:"form-control",required:!0})),r.a.createElement("div",{className:"custom-file m-2"},r.a.createElement("input",{type:"file",onChange:function(e){return function(e){f(Object(p.a)({},d,{image:e.target.files[0]})),v(!0),x(e.target.files[0].name)}(e)},className:"custom-file-input bg-info",required:!0}),r.a.createElement("label",{className:"custom-file-label"},b?y:"Upload Image")),r.a.createElement("div",{className:"form-group m-2"},r.a.createElement("label",{htmlFor:"title"},"Description"),r.a.createElement("textarea",{name:"description",onChange:function(e){return S(e)},placeholder:"Enter Products description",value:w,className:"form-control",required:!0})),r.a.createElement("input",{type:"submit",value:"Edit Product",className:"btn btn-block btn-info"}))))))})),xe=Object(l.b)(null,{askQuestion:function(e,t){return function(a){var n,r;return W.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n={headers:{"Content-Type":"application/json"}},c.prev=1,c.next=4,W.a.awrap($.a.post("/questions/".concat(t),e,n));case 4:r=c.sent,a({type:R,payload:r.data}),a(ee("You Asked Your Question Successfully","success")),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),a({type:k,payload:{msg:c.t0.message,status:c.t0.response.status}});case 12:case"end":return c.stop()}}),null,null,[[1,9]])}}})((function(e){var t=e.id,a=e.askQuestion,c=Object(n.useState)(""),s=Object(le.a)(c,2),l=s[0],o=s[1];return r.a.createElement(n.Fragment,null,r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a({text:l},t)}(e)}},r.a.createElement("p",{className:"lead text-danger text-monospace font-weight-bold mt-5 font-italic"},"Any Questions About The Product"),r.a.createElement("textarea",{placeholder:"Do You Have Any Question ...",value:l,onChange:function(e){return o(e.target.value)},cols:"10",rows:"1",className:"form-control",required:!0}),r.a.createElement("input",{type:"submit",className:"btn btn-outline-warning mt-2"})))})),Oe=a(44),we=a.n(Oe),je=Object(l.b)(null,{deleteQuestion:function(e){return function(t){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.a.awrap($.a.delete("/questions/".concat(e)));case 3:t({type:A,payload:e}),t(ee("You successfully deleted your question","success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:k,payload:{msg:a.t0.message,status:a.t0.response.status}});case 10:case"end":return a.stop()}}),null,null,[[0,7]])}},updateQuestion:function(e,t){return function(a){var n,r,c;return W.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({text:e}),s.prev=2,s.next=5,W.a.awrap($.a.put("/questions/".concat(t),r,n));case 5:s.sent,a({type:I,payload:{text:e,id:t}}),a(ee("Successfully updated your question","success")),s.next=15;break;case 10:s.prev=10,s.t0=s.catch(2),(c=s.t0.response.data.errors)&&c.forEach((function(e){return a(ee(e.msg,"danger"))})),a({type:k,payload:{msg:s.t0.response.statusText,status:s.t0.response.status}});case 15:case"end":return s.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.question,a=t._id,c=t.text,s=t.user,l=t.date,o=(e.addAnswer,e.deleteQuestion),u=e.updateQuestion,i=(e.productUserId,e.userId),m=Object(n.useState)(!1),d=Object(le.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(c),g=Object(le.a)(E,2),b=g[0],v=g[1],h=Object(n.useState)(!1),N=Object(le.a)(h,2),y=(N[0],N[1],Object(n.useState)("")),x=Object(le.a)(y,2);x[0],x[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card bg-info m-4"},r.a.createElement("div",{className:"card-body"},p?r.a.createElement(n.Fragment,null,r.a.createElement("input",{className:"form-control",value:b,placeholder:"Something else on your mind ?...",type:"text",onChange:function(e){return v(e.target.value)},required:!0}),r.a.createElement("button",{type:"button",className:"btn btn-success m-2",onClick:function(){u(b,a),f(!1)}},"Submit")):r.a.createElement("p",{className:"secondary"}," ",c," "),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Asked ",r.a.createElement(we.a,{format:"YYYY/MM/DD"},l)," by ",s.name," ")),s._id===i&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"btn btn-primary mx-1",onClick:function(){return f(!p)}}," ",r.a.createElement("i",{className:"fas fa-edit"})," "),r.a.createElement("button",{className:"btn btn-danger mx-1",onClick:function(){return o(a)}}," ",r.a.createElement("i",{className:"fas fa-trash"})," ")))))})),Se=Object(i.compose)(u.g,Object(l.b)((function(e){return{product:e.product,auth:e.auth,question:e.question}}),{getProduct:Ee,deleteSingleProduct:pe,getQuestions:function(e){return function(t){var a;return W.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,W.a.awrap($.a.get("/questions/".concat(e)));case 3:a=n.sent,t({type:_,payload:a.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t({type:k,payload:{msg:n.t0.message,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),null,null,[[0,7]])}}}))((function(e){var t=e.getProduct,a=e.deleteSingleProduct,c=e.getQuestions,s=e.history,l=e.match,u=e.product,i=u.product,m=u.loading,d=e.auth,p=e.question.questions;return Object(n.useEffect)((function(){t(l.params.id),c(l.params.id)}),[i,p]),!m&&i&&d.user?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col text-center bg-dark"},r.a.createElement("h1",{className:"title text-danger"},"Sold by ",r.a.createElement(o.b,{className:"text-info text-monospace",to:"/user/products/".concat(i.user._id)},i.user.name))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("img",{src:i.image,alt:"productImage",className:"img-fluid"}),i.user._id===d.user._id&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col"},r.a.createElement(o.b,{to:"/products/edit/".concat(i._id),className:"btn btn-dark m-3"},"Edit"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return a(i._id,s)}},"Delete"))),r.a.createElement("p",{className:"lead"}," ",i.name,"  ",r.a.createElement("strong",{className:"text-monospace text-danger font-weight-bold"},i.price,"$ ")," "),r.a.createElement("p",{className:"text-warning font-weight-bold text-monospace"}," ",i.description," "),i.user._id!==d.user._id&&r.a.createElement(xe,{id:i._id}),p.map((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(je,{key:e._id,question:e,productUserId:i.user._id,userId:d.user._id}))})))))):r.a.createElement(be,null)})),Pe=Object(l.b)((function(e){return{product:e.product}}),{getUserProducts:fe})((function(e){var t=e.product,a=t.products,c=t.totalProducts,s=t.loading,l=e.match,o=e.getUserProducts,u=Object(n.useState)(1),i=Object(le.a)(u,2),m=i[0],d=i[1],p=Object(n.useState)(6),f=Object(le.a)(p,1)[0];return Object(n.useEffect)((function(){o(l.params.id,m)}),[m,a]),s?r.a.createElement(be,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h1",{className:"text-warning text-monospace"},"Products"),r.a.createElement("p",{className:"lead text-success font-weight-bold"},"Find Items From This Person!")))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},a.map((function(e){return r.a.createElement("div",{className:"col-md-4 col-6"},r.a.createElement(ge,{key:e._id,product:e}))})),";",r.a.createElement("div",{className:"col-12"},a&&r.a.createElement(de,{productsPerPage:f,totalProducts:c,paginate:function(e){return d(e)}})))))})),Te=Object(l.b)(null,{deleteCartItem:function(e){return function(t){return W.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,W.a.awrap($.a.delete("/cart/cart-delete/".concat(e)));case 3:t({type:Q,payload:e}),t(ee("Successfully removed item from cart","success")),t(te()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t({type:L,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),null,null,[[0,8]])}}})((function(e){var t=e.cartItem,a=e.deleteCartItem;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"card bg-success rounded-lg"},r.a.createElement("img",{src:t.product.image,className:"card-img-top",alt:"product"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title text-center text-danger bg-warning"},t.product.name),r.a.createElement("p",{className:"card-text font-weight-bold text-center"},"Total Price: ",r.a.createElement("strong",null,t.product.price*t.quantity),r.a.createElement("i",{className:"fas fa-dollar-sign"})),r.a.createElement("p",{className:"card-text font-weight-bold text-center"},"Quantity: ",r.a.createElement("strong",null,t.quantity)),r.a.createElement(o.b,{className:"btn btn-outline-warning mx-1",to:"/products/".concat(t.product._id)},"View"),r.a.createElement("button",{onClick:function(){return a(t._id)},className:"btn btn-outline-danger"}," ",r.a.createElement("i",{className:"fas fa-trash-alt"})," "))))})),Ce=a(45),_e=a.n(Ce),Re=Object(l.b)(null,{postCartPayment:function(e,t){return function(a){var n,r;return W.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({amount:e,token:t}),c.prev=2,c.next=5,W.a.awrap($.a.post("/cart/payment",r,n));case 5:a({type:G}),a(ee("Payment went through successfully!","success")),c.next=13;break;case 9:c.prev=9,c.t0=c.catch(2),a(ee("There was an issue with your payment","danger")),a({type:L,payload:{msg:c.t0.response.statusText,status:c.t0.response.status}});case 13:case"end":return c.stop()}}),null,null,[[2,9]])}}})((function(e){var t=e.price,a=e.postCartPayment,n=100*t;return r.a.createElement(_e.a,{label:"Pay Now",name:"Cubical Inc.",billingAddress:!0,shippingAddress:!0,image:"https://svgshare.com/i/CUz.svg",description:"Your total is $".concat(t),amount:n,panelLabel:"Pay Now",token:function(e){a(n,e)},stripeKey:"pk_test_VDVUHRqmElyMUwYUqFclQheZ"})})),ke=Object(l.b)((function(e){return{cart:e.cart}}),{getCartProducts:te})((function(e){var t=e.getCartProducts,a=e.cart,c=a.cartItems,s=a.totalQuantity,l=a.loading,o=a.totalPrice;return Object(n.useEffect)((function(){t()}),[c,s,o]),l?r.a.createElement(be,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col text-center"},r.a.createElement("h1",{className:"text-warning text-monospace"},"Your Cart!"),r.a.createElement("p",{className:"lead text-success font-weight-bold"},"Total Price: ",r.a.createElement("strong",{className:"text-danger font-weight-bold text-monospace"},o+"$"," ")," "," Total Items in Quantity: ",r.a.createElement("strong",{className:"text-danger font-weight-bold text-monospace"},s+"X"," "))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},c.map((function(e){return r.a.createElement("div",{className:"col-md-4 col-6"},r.a.createElement(Te,{key:e._id,cartItem:e}))})),";"),r.a.createElement("br",null),r.a.createElement("div",{className:"col text-center mt-5"},r.a.createElement("h1",{className:"lead text-danger font-weight-bold mb-4"},"*Please use the following test credit card for payments*",r.a.createElement("br",null),"4242 4242 4242 4242 - Exp: 01/22 - CVV: 123"),r.a.createElement(Re,{price:o}))))}));localStorage.token&&B(localStorage.token);var Ae=function(){return Object(n.useEffect)((function(){J.dispatch(ae()),J.dispatch(te())}),[]),r.a.createElement(l.a,{store:J},r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(ne,null),r.a.createElement(ce,null),r.a.createElement(u.b,{exact:!0,path:"/",component:re}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/register",component:oe}),r.a.createElement(u.b,{exact:!0,path:"/login",component:ue}),r.a.createElement(me,{exact:!0,path:"/dashboard",component:ve}),r.a.createElement(me,{exact:!0,path:"/add-product",component:he}),r.a.createElement(me,{exact:!0,path:"/products",component:Ne}),r.a.createElement(me,{exact:!0,path:"/products/edit/:id",component:ye}),r.a.createElement(me,{exact:!0,path:"/products/:id",component:Se}),r.a.createElement(me,{exact:!0,path:"/user/products/:id",component:Pe}),r.a.createElement(me,{exact:!0,path:"/cart",component:ke})))))};s.a.render(r.a.createElement(Ae,null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.b171978a.chunk.js.map